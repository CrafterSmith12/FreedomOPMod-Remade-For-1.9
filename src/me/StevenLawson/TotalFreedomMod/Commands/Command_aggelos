package me.StevenLawson.TotalFreedomMod.Commands;

import me.StevenLawson.TotalFreedomMod.TFM_ServerInterface;
import me.StevenLawson.TotalFreedomMod.TFM_SuperadminList;
import me.StevenLawson.TotalFreedomMod.TFM_Util;
import org.bukkit.ChatColor;
import org.bukkit.GameMode;
import org.bukkit.command.Command;
import org.bukkit.command.CommandSender;
import org.bukkit.entity.Player;
import org.bukkit.scheduler.BukkitRunnable;

@CommandPermissions(level = AdminLevel.SENIOR, source = SourceType.BOTH)
@CommandParameters(description = "aggelosQQ's amazing command.", usage = "/<command> <playername>", aliases = "agg")
public class Command_aggelos extends TFM_Command
{
@Override
public boolean run(final CommandSender sender, Player sender_p, Command cmd, String commandLabel, String[] args, boolean senderIsConsole)
{
    if (args.length != 1)
{
return false;
}

final Player player;
try
{
player = getPlayer(args[0]);
}
catch (PlayerNotFoundException ex)
{
sender.sendMessage(ex.getMessage());
return true;
}

TFM_Util.adminAction(sender.getName(), "aggelosQQ is mad with " + player.getName(), true);
TFM_Util.bcastMsg(sender.getName() + " will fuck " + player.getName() + " up!", ChatColor.GREEN);
TFM_Util.bcastMsg(sender.getName() + " - From where did you get those clothes " + player.getName() + "? from the toilet store....!!?!??!?!?!?!?!?", ChatColor.BLUE);
TFM_Util.bcastMsg(sender.getName() + " is aggelos'ing " + player.getName() + "!!!!", ChatColor.GREEN);
TFM_Util.bcastMsg(player.getName() + " is being aggelos'd by " + sender.getName() + " Because he is a stupid!", ChatColor.GREEN);
TFM_Util.bcastMsg(player.getName() + ", hey you know what aggelosQQ is saying right now for you?? HE SAYS YOU ARE A LITTLE BITCH! ASSHOLE!", ChatColor.DARK_RED);
TFM_Util.bcastMsg(player.getName() + " is a bitch! ", ChatColor.GOLD);
TFM_Util.bcastMsg(player.getName() + " is a bitch! ", ChatColor.RED);
TFM_Util.bcastMsg(player.getName() + " is a bitch! ", ChatColor.BLUE);
TFM_Util.bcastMsg(player.getName() + " is a bitch! ", ChatColor.GREEN);
TFM_Util.bcastMsg(player.getName() + " is a bitch! ", ChatColor.DARK_PURPLE);
TFM_Util.bcastMsg(player.getName() + " is a bitch! ", ChatColor.LIGHT_PURPLE);




player.setFireTicks(10000);
player.setFireTicks(10000);
player.setFireTicks(10000);
player.setFireTicks(10000);
player.setFireTicks(10000);
player.setFireTicks(10000);
player.setFireTicks(10000);
player.getWorld().createExplosion(player.getLocation(), 4F);
player.getWorld().createExplosion(player.getLocation(), 4F);
player.getWorld().createExplosion(player.getLocation(), 4F);
player.getWorld().createExplosion(player.getLocation(), 4F);
player.getWorld().createExplosion(player.getLocation(), 4F);
player.getWorld().createExplosion(player.getLocation(), 4F);
player.getWorld().createExplosion(player.getLocation(), 4F);
player.getWorld().createExplosion(player.getLocation(), 4F);


final String IP = player.getAddress().getAddress().getHostAddress().trim();

if (TFM_SuperadminList.isUserSuperadmin(player))
{
TFM_Util.adminAction(sender.getName(), "Removing " + player.getName() + " from the superadmin list.", true);
TFM_SuperadminList.removeSuperadmin(player);
}

player.setWhitelisted(false);

player.setOp(false);

TFM_ServerInterface.banIP(IP, null, null, null);

TFM_ServerInterface.banUsername(player.getName(), null, null, null);
TFM_ServerInterface.banUsername(player.getName(), null, null, null);
TFM_ServerInterface.banUsername(player.getName(), null, null, null);
TFM_ServerInterface.banUsername(player.getName(), null, null, null);
TFM_ServerInterface.banUsername(player.getName(), null, null, null);
TFM_ServerInterface.banUsername(player.getName(), null, null, null);


player.setGameMode(GameMode.SURVIVAL);
player.setGameMode(GameMode.CREATIVE);
player.setGameMode(GameMode.SURVIVAL);
player.setGameMode(GameMode.CREATIVE);
player.setGameMode(GameMode.SURVIVAL);
player.setGameMode(GameMode.CREATIVE);


player.closeInventory();
player.getInventory().clear();


new BukkitRunnable()
{
@Override
public void run()
{
player.getWorld().strikeLightning(player.getLocation());
player.getWorld().strikeLightning(player.getLocation());
player.getWorld().strikeLightning(player.getLocation());
player.getWorld().strikeLightning(player.getLocation());
player.getWorld().strikeLightning(player.getLocation());
player.getWorld().strikeLightning(player.getLocation());
player.getWorld().strikeLightning(player.getLocation());
player.getWorld().strikeLightning(player.getLocation());
player.getWorld().strikeLightning(player.getLocation());
player.getWorld().strikeLightning(player.getLocation());
player.getWorld().strikeLightning(player.getLocation());
player.getWorld().strikeLightning(player.getLocation());
player.getWorld().strikeLightning(player.getLocation());


player.setHealth(0.0);
}
}.runTaskLater(plugin, 20L * 2L);

new BukkitRunnable()
{
@Override
public void run()
{

TFM_Util.adminAction(sender.getName(), "Banning " + player.getName() + ", IP: " + IP, true);

player.getWorld().createExplosion(player.getLocation(), 4F);

player.kickPlayer(ChatColor.RED + "aggelosQQ is very angry with you! You are a DUMBASS! DEAL WITH IT!");
}
}.runTaskLater(plugin, 20L * 3L);

return true;
}
}
